<?xml version="1.0"?>
<!DOCTYPE xml>
<project name="ebookGeneratorCore_CodeCoverage_Script" default="doNothing" basedir="..\">
<!-- TODO:remove when there will be ability to modify build server script to run JaCoCoAntScript.xml directly.-->
  <property file="ant/deploy.properties" />
  <target name="coverage-instrumentation">
    <echo level="info">Code coverage - Instrumenting the binaries via the JaCoCoAntScript.xml file ...</echo>
    <ant antfile="ant/JaCoCoAntScript.xml" target="coverage-instrumentation" inheritall="false" />
  </target>
  
  <target name="coverage-report">
    <echo level="info">Code coverage - Generating the code coverage report via the JaCoCoAntScript.xml file ...</echo>
    <ant antfile="ant/JaCoCoAntScript.xml" target="coverage-report" inheritall="false">
        <property name="publishToSonar" value="true" />
        <property name="project" value="${APPLICATION}" />
        <property name="project.sonar.path" value="core" />
    </ant>
  </target>
  <target name="doNothing">
    <echo level="error">This target should not be called. Call either the 'coverage-instrumentation' or the 'coverage-report' target.</echo>
  </target>
<!-- /TODO -->
</project>