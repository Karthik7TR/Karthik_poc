<!--
 * Copyright 2011: Thomson Reuters Global Resources. All Rights Reserved.
 * Proprietary and Confidential information of TRGR. Disclosure, Use or
 * Reproduction without the written authorization of TRGR is prohibited
-->
<binding>
    <!-- Gather REST response -->
    <mapping name="gatherResponse" class="com.thomsonreuters.uscl.ereader.gather.domain.GatherResponse">
        <value name="errorCode" field="errorCode" usage="required"/>
        <value name="errorMessage" field="errorMessage" usage="optional"/>
    </mapping>
    
    <!-- Gather Doc REST Request -->
    <mapping name="gatherDocRequest" class="com.thomsonreuters.uscl.ereader.gather.domain.GatherDocRequest">
        <value name="guid" field="guid" usage="required"/>
        <value name="collectionName" field="collectionName" usage="required"/>
        <value name="destinationDirectory" field="destinationDirectory" usage="required"/>
    </mapping>

	<!-- Gather Toc REST Request -->
    <mapping name="gatherTocRequest" class="com.thomsonreuters.uscl.ereader.gather.domain.GatherTocRequest">
        <value name="guid" field="guid" usage="required"/>
        <value name="collectionName" field="collectionName" usage="required"/>
        <value name="destinationDirectory" field="destinationDirectory" usage="required"/>
    </mapping>


    <mapping name="jobRunRequest" class="com.thomsonreuters.uscl.ereader.orchestrate.core.JobRunRequest">
        <value name="jobName" field="jobName" usage="required"/>
        <structure field="bookKey" usage="required"/>
        <value name="userName" field="userName" usage="optional"/>
        <value name="userEmail" field="userEmail" usage="optional"/>
    </mapping>
    
    <mapping name="bookDefinitionKey" class="com.thomsonreuters.uscl.ereader.orchestrate.core.BookDefinitionKey">
        <value name="fullyQualifiedTitleId" field="fullyQualifiedTitleId" usage="required"/>
    </mapping>
    
    <!-- title.xml -->
    <mapping name="title" class="com.thomsonreuters.uscl.ereader.proview.TitleMetadata" value-style="attribute">
    	<value name="apiversion" field="apiVersion" usage="required"/>
    	<value name="id" field="titleId" usage="required"/>
    	<value name="titleversion" field="titleVersion" usage="required"/>
    	<value name="lastupdated" field="lastUpdated" usage="required"/>
    	<value name="language" field="language" usage="required"/>
    	<value name="status" field="status" usage="required"/>
    	<structure name="features" usage="required">
	    	<collection field="proviewFeatures" usage="optional">
		    	<structure name="feature" type="com.thomsonreuters.uscl.ereader.proview.Feature" usage="optional" value-style="attribute">
		    		<value name="name" field="name" usage="required"/>
		    		<value name="value" field="value" usage="optional"/>
		    	</structure>
	    	</collection>
    	</structure>
    	<structure name="material" usage="required">
	    	<value style="text" field="materialId" usage="optional"/>
    	</structure>
    	<structure field="artwork" usage="required"/>
    	<structure name="assets" usage="required">
    		<collection field="assets" usage="optional">
    			<structure name="asset" type="com.thomsonreuters.uscl.ereader.proview.Asset" usage="optional" value-style="attribute">
		    		<value name="id" field="id" usage="required"/>
		    		<value name="src" field="src" usage="required"/>
    			</structure>
    		</collection>
    	</structure>
    	<structure name="name" usage="required">
    		<value style="text" field="displayName" usage="optional"/>
    	</structure>
    	<structure name="authors" usage="required">
    		<collection field="authors" usage="optional">
    			<structure name="author" type="com.thomsonreuters.uscl.ereader.proview.Author" usage="required">
		    		<value style="text" field="name" usage="optional"/>
    			</structure>
    		</collection>
    	</structure>
    	<structure name="keywords" usage="required">
	    	<collection field="keywords" usage="optional">
		    	<structure name="keyword" type="com.thomsonreuters.uscl.ereader.proview.Keyword" usage="optional" value-style="attribute">
		    		<value name="type" field="type" usage="required"/>
		    		<value style="text" field="text" usage="required"/>
		    	</structure>
	    	</collection>
    	</structure>
    	<structure name="copyright" usage="required">
	    	<value style="text" field="copyright" usage="optional"/>
    	</structure>
    	<structure name="toc" usage="required">
    		<collection field="tocEntries" usage="optional"/>
    	</structure>
    	<structure name="docs" usage="required">
    		<collection field="documents" usage="optional">
    			<structure name="doc" type="com.thomsonreuters.uscl.ereader.proview.Doc" usage="optional" value-style="attribute">
    				<value name="id" field="id" usage="required"/>
    				<value name="src" field="src" usage="required"/>
    			</structure>
    		</collection>
    	</structure>
    </mapping>
    
    <mapping name="artwork" class="com.thomsonreuters.uscl.ereader.proview.Artwork" value-style="attribute">
    	<value name="src" field="src"/>
    	<value name="type" field="type"/>
    </mapping>
    
    <mapping name="entry" class="com.thomsonreuters.uscl.ereader.proview.TocEntry" value-style="attribute">
		<value name="s" field="anchorReference"/>
		<structure name="text">	
			<value style="text" field="text"/>
		</structure>
		<collection field="children" usage="optional"/>
	</mapping>
    
</binding>