<?xml version="1.0" encoding="UTF-8"?>

<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:context="http://www.springframework.org/schema/context"
       xmlns:p="http://www.springframework.org/schema/p"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	   xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
						   http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.0.xsd">

	<bean id="adminController" class="com.thomsonreuters.uscl.ereader.mgr.web.controller.admin.main.AdminController" />
	
	<bean id="adminBookDefinitionLockController" class="com.thomsonreuters.uscl.ereader.mgr.web.controller.admin.bookdefinitionlock.BookDefinitionLockController" 
		p:bookLockService-ref="bookDefintionLockService" />
		
	<bean id="stopGeneratorController" class="com.thomsonreuters.uscl.ereader.mgr.web.controller.admin.stopgenerator.StopGeneratorController" 		
	  p:serverAccessService-ref="serverAccessService" 
	  p:killSwitchProperties-ref="killSwitchAppProperties">
	  <property name="validator">
		  	<bean class="com.thomsonreuters.uscl.ereader.mgr.web.controller.admin.stopgenerator.StopGeneratorFormValidator"/>
	  </property>
	</bean>
	
	<bean id="jurisCodeController" class="com.thomsonreuters.uscl.ereader.mgr.web.controller.admin.jurisdictioncode.JurisdictionCodeController" 
		p:codeService-ref="codeService">
		<property name="validator">
		  	<bean class="com.thomsonreuters.uscl.ereader.mgr.web.controller.admin.jurisdictioncode.JurisdictionCodeFormValidator"
		  	p:codeService-ref="codeService"/>
		 </property>
	</bean>
	
	<bean id="pubTypeCodeController" class="com.thomsonreuters.uscl.ereader.mgr.web.controller.admin.publishtypecode.PublishTypeCodeController" 
		p:codeService-ref="codeService">
		<property name="validator">
		  	<bean class="com.thomsonreuters.uscl.ereader.mgr.web.controller.admin.publishtypecode.PublishTypeCodeFormValidator"
		  	p:codeService-ref="codeService"/>
		 </property>
	</bean>
	
	<bean id="stateCodeController" class="com.thomsonreuters.uscl.ereader.mgr.web.controller.admin.statecode.StateCodeController" 
		p:codeService-ref="codeService">
		<property name="validator">
		  	<bean class="com.thomsonreuters.uscl.ereader.mgr.web.controller.admin.statecode.StateCodeFormValidator"
		  	p:codeService-ref="codeService"/>
		 </property>
	</bean>
	
	<bean id="keywordCodeController" class="com.thomsonreuters.uscl.ereader.mgr.web.controller.admin.keywordcode.KeywordCodeController" 
		p:codeService-ref="codeService"
		p:bookDefinitionService-ref="bookDefinitionService">
		<property name="validator">
		  	<bean class="com.thomsonreuters.uscl.ereader.mgr.web.controller.admin.keywordcode.KeywordCodeFormValidator"
		  	p:codeService-ref="codeService"/>
		 </property>
	</bean>
	
	<bean id="keywordValueController" class="com.thomsonreuters.uscl.ereader.mgr.web.controller.admin.keywordvalue.KeywordValueController" 
		p:codeService-ref="codeService"
		p:bookDefinitionService-ref="bookDefinitionService">
		<property name="validator">
		  	<bean class="com.thomsonreuters.uscl.ereader.mgr.web.controller.admin.keywordvalue.KeywordValueFormValidator"
		  	p:codeService-ref="codeService"/>
		 </property>
	</bean>
	
	<bean id="bookLibraryController" class="com.thomsonreuters.uscl.ereader.mgr.web.controller.booklibrary.BookLibraryController"
		  p:libraryListService-ref="libraryListService" >
		  <property name="validator">
		  	<bean class="com.thomsonreuters.uscl.ereader.mgr.web.controller.booklibrary.BookLibrarySelectionFormValidator"/>
		  </property>
	</bean>
	
	<bean id="bookLibraryFilterController" class="com.thomsonreuters.uscl.ereader.mgr.web.controller.booklibrary.BookLibraryFilterController"
		  p:libraryListService-ref="libraryListService" >
	</bean>	
	
	<bean id="libraryListMapper" class="com.thomsonreuters.uscl.ereader.core.library.dao.LibraryListRowMapper"
		  p:authorService-ref="authorService"/>
	
	<bean id="viewBookDefinitionController" class="com.thomsonreuters.uscl.ereader.mgr.web.controller.bookdefinition.view.ViewBookDefinitionController"
		  p:bookDefinitionService-ref="bookDefinitionService"
		  p:jobRequestService-ref="jobRequestService"/>
		  
	<bean id="appExceptionController" class="com.thomsonreuters.uscl.ereader.mgr.web.controller.AppExceptionController" />
	
	<bean id="imageController" class="com.thomsonreuters.uscl.ereader.mgr.web.controller.ImageController" />
		  
  	<bean id="editBookDefinitionController" class="com.thomsonreuters.uscl.ereader.mgr.web.controller.bookdefinition.edit.EditBookDefinitionController"
		  p:bookDefinitionService-ref="bookDefinitionService"
		  p:editBookDefinitionService-ref="editBookDefinitionService"
		  p:jobRequestService-ref="jobRequestService"
		  p:auditService-ref="eBookAuditService"
		  p:bookLockService-ref="bookDefintionLockService">
		  <property name="validator">
		  	<bean class="com.thomsonreuters.uscl.ereader.mgr.web.controller.bookdefinition.edit.EditBookDefinitionFormValidator"
		  	p:bookDefinitionService-ref="bookDefinitionService" 
		  	p:codeService-ref="codeService"
		  	p:jobRequestService-ref="jobRequestService"
		  	p:environmentName-ref="environmentName"/>
		  </property>
	</bean>

	<bean id="generateEbookController" class="com.thomsonreuters.uscl.ereader.mgr.web.controller.generate.GenerateEbookController"
		  p:bookDefinitionService-ref="bookDefinitionService"
		  p:environmentName-ref="environmentName"
		  p:messageSourceAccessor-ref="messageSourceAccessor"
		  p:jobRequestService-ref="jobRequestService"
		  p:proviewClient-ref="proviewClient"
		  p:publishingStatsService-ref="publishingStatsService"
		  />
		  
	<bean id="promoteController" class="com.thomsonreuters.uscl.ereader.mgr.web.controller.promotion.BookPromotionController" />

	<bean id="jobExecutionController" class="com.thomsonreuters.uscl.ereader.mgr.web.controller.job.details.JobExecutionController"
		  p:jobService-ref="jobService"
		  p:managerService-ref="managerService"
		  p:publishingStatsService-ref="publishingStatsService"
		  p:messageSourceAccessor-ref="messageSourceAccessor"
		  p:jobSummaryController-ref="jobSummaryController">
		  <property name="validator">
		  	<bean class="com.thomsonreuters.uscl.ereader.mgr.web.controller.job.details.JobExecutionFormValidator"/>
		  </property>
	</bean>
	<bean id="jobInstanceController" class="com.thomsonreuters.uscl.ereader.mgr.web.controller.job.details.JobInstanceController"
		  p:jobService-ref="jobService"
		  p:publishingStatsService-ref="publishingStatsService"/>
	<bean id="jobStepExecutionController" class="com.thomsonreuters.uscl.ereader.mgr.web.controller.job.details.StepExecutionController"
		  p:jobService-ref="jobService"
		  p:publishingStatsService-ref="publishingStatsService"/>	
	<bean id="jobSummaryController" class="com.thomsonreuters.uscl.ereader.mgr.web.controller.job.summary.JobSummaryController"
		  p:jobService-ref="jobService"
		  p:managerService-ref="managerService"
		  p:messageSourceAccessor-ref="messageSourceAccessor">
		<property name="validator">
			<bean class="com.thomsonreuters.uscl.ereader.mgr.web.controller.job.summary.JobSummaryValidator"/>
		</property>
	</bean>	
	<bean id="jobSummaryFilterController" class="com.thomsonreuters.uscl.ereader.mgr.web.controller.job.summary.FilterController"
		  p:jobService-ref="jobService">
		<property name="validator">
			<bean class="com.thomsonreuters.uscl.ereader.mgr.web.controller.job.summary.FilterFormValidator"/>
		</property>
	</bean>
	
	<bean id="jobQueueController" class="com.thomsonreuters.uscl.ereader.mgr.web.controller.job.queue.QueueController"
		  p:jobRequestService-ref="jobRequestService">
		<property name="validator">
			<bean class="com.thomsonreuters.uscl.ereader.mgr.web.controller.job.queue.QueueFormValidator"/>
		</property>
	</bean>
	
	<bean id="bookAuditController" class="com.thomsonreuters.uscl.ereader.mgr.web.controller.bookaudit.BookAuditController"
		  p:auditService-ref="eBookAuditService"/>
	
	<bean id="bookAuditFilterController" class="com.thomsonreuters.uscl.ereader.mgr.web.controller.bookaudit.BookAuditFilterController"
		  p:auditService-ref="eBookAuditService">
		<property name="validator">
			<bean class="com.thomsonreuters.uscl.ereader.mgr.web.controller.bookaudit.BookAuditFilterFormValidator"/>
		</property>
	</bean>

	<bean id="frontMatterPreviewController" class="com.thomsonreuters.uscl.ereader.mgr.web.controller.fmpreview.FmPreviewController"
		  p:bookDefinitionService-ref="bookDefinitionService"
		  p:frontMatterService-ref="createFrontMatterService"/>

	<!-- SECURITY related controllers -->
	<bean class="com.thomsonreuters.uscl.ereader.mgr.web.controller.security.AccessDeniedController"/>
	<bean class="com.thomsonreuters.uscl.ereader.mgr.web.controller.security.LoginController"
			p:environmentName-ref="environmentName"
			p:proviewDomain-ref="proviewDomain" >
		<property name="validator">
			<bean class="com.thomsonreuters.uscl.ereader.mgr.web.controller.security.LoginFormValidator"/>
		</property>
	</bean>	
		  
	<bean id="eBookJobHistoryController" class="com.thomsonreuters.uscl.ereader.mgr.web.controller.job.history.EBookJobHistoryController"
		  p:bookDefinitionService-ref="bookDefinitionService"
		  p:publishingStatsService-ref="publishingStatsService"		
		  />
		  
	<bean id="eBookJobMetricsController" class="com.thomsonreuters.uscl.ereader.mgr.web.controller.job.metrics.EBookJobMetricsController"
		  p:bookDefinitionService-ref="bookDefinitionService"
		  p:publishingStatsService-ref="publishingStatsService"		
		  />		  		  
			  
</beans>