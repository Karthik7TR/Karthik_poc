<?xml version="1.0" encoding="UTF-8"?>

<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:context="http://www.springframework.org/schema/context"
       xmlns:p="http://www.springframework.org/schema/p"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	   xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
						   http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.0.xsd">


	<bean id="bookLibraryController" class="com.thomsonreuters.uscl.ereader.mgr.web.controller.booklibrary.BookLibraryController"
		  p:bookLibraryService-ref="bookLibraryService" >
		  <property name="validator">
		  	<bean class="com.thomsonreuters.uscl.ereader.mgr.web.controller.booklibrary.BookLibrarySelectionFormValidator"/>
		  </property>
	</bean>
	
	<bean id="viewBookDefinitionController" class="com.thomsonreuters.uscl.ereader.mgr.web.controller.bookdefinition.view.ViewBookDefinitionController"
		  p:bookDefinitionService-ref="bookDefinitionService"
		  p:jobRequestService-ref="jobRequestService"/>
		  
	<bean id="appExceptionController" class="com.thomsonreuters.uscl.ereader.mgr.web.controller.AppExceptionController" />
		  
  	<bean id="editBookDefinitionController" class="com.thomsonreuters.uscl.ereader.mgr.web.controller.bookdefinition.edit.EditBookDefinitionController"
		  p:bookDefinitionService-ref="bookDefinitionService"
		  p:proviewClient-ref="proviewClient"
		  p:editBookDefinitionService-ref="editBookDefinitionService"
		  p:jobRequestService-ref="jobRequestService">
		  <property name="validator">
		  	<bean class="com.thomsonreuters.uscl.ereader.mgr.web.controller.bookdefinition.edit.EditBookDefinitionFormValidator"
		  	p:bookDefinitionService-ref="bookDefinitionService" 
		  	p:codeService-ref="codeService"/>
		  </property>
	</bean>

	<bean id="generateEbookController" class="com.thomsonreuters.uscl.ereader.mgr.web.controller.generate.GenerateEbookController"
		  p:bookDefinitionService-ref="bookDefinitionService"
		  p:environmentName-ref="environmentName"
		  p:jobRunner-ref="jobRunner"
		  p:messageSourceAccessor-ref="messageSourceAccessor"
		  p:proviewClient-ref="proviewClient"
		  />
		  
	<bean id="promoteController" class="com.thomsonreuters.uscl.ereader.mgr.web.controller.promotion.BookPromotionController" />

	<bean id="jobExecutionController" class="com.thomsonreuters.uscl.ereader.mgr.web.controller.job.details.JobExecutionController"
		  p:jobService-ref="jobService"
		  p:managerService-ref="managerService"
		  p:publishingStatsService-ref="publishingStatsService"
		  p:messageSourceAccessor-ref="messageSourceAccessor"
		  p:jobSummaryController-ref="jobSummaryController">
		  <property name="validator">
		  	<bean class="com.thomsonreuters.uscl.ereader.mgr.web.controller.job.details.JobExecutionFormValidator"/>
		  </property>
	</bean>
	<bean id="jobInstanceController" class="com.thomsonreuters.uscl.ereader.mgr.web.controller.job.details.JobInstanceController"
		  p:jobService-ref="jobService"
		  p:publishingStatsService-ref="publishingStatsService"/>
	<bean id="jobStepExecutionController" class="com.thomsonreuters.uscl.ereader.mgr.web.controller.job.details.StepExecutionController"
		  p:jobService-ref="jobService"
		  p:publishingStatsService-ref="publishingStatsService"/>	
	<bean id="jobSummaryController" class="com.thomsonreuters.uscl.ereader.mgr.web.controller.job.summary.JobSummaryController"
		  p:jobService-ref="jobService"
		  p:managerService-ref="managerService"
		  p:messageSourceAccessor-ref="messageSourceAccessor">
		<property name="validator">
			<bean class="com.thomsonreuters.uscl.ereader.mgr.web.controller.job.summary.JobSummaryValidator"/>
		</property>
	</bean>	
	<bean id="jobSummaryFilterController" class="com.thomsonreuters.uscl.ereader.mgr.web.controller.job.summary.FilterController"
		  p:jobService-ref="jobService">
		<property name="validator">
			<bean class="com.thomsonreuters.uscl.ereader.mgr.web.controller.job.summary.FilterFormValidator"/>
		</property>
	</bean>
	
	<bean id="jobQueueController" class="com.thomsonreuters.uscl.ereader.mgr.web.controller.job.queue.QueueController"
		  p:jobRequestService-ref="jobRequestService"
		  p:bookDefinitionService-ref="bookDefinitionService">
		<property name="validator">
			<bean class="com.thomsonreuters.uscl.ereader.mgr.web.controller.job.queue.QueueFormValidator"/>
		</property>
	</bean>	
	
	<bean id="securityController" class="com.thomsonreuters.uscl.ereader.mgr.web.controller.security.SecurityController"
		  p:casUrl="${cas.server.web.url}"/>
			  
</beans>